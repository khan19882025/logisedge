{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Dashboard - logisEdge{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="{% static 'img/favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap-icons.css' %}">
    <style>
        .dropdown-submenu {
            position: absolute;
            left: 100%;
            top: 0;
            display: none;
        }
        
        .dropend:hover > .dropdown-menu {
            display: block;
        }
        
        .dropdown-submenu .dropdown-item {
            white-space: nowrap;
        }
        
        /* Ensure proper positioning on smaller screens */
        @media (max-width: 768px) {
            .dropdown-submenu {
                position: static;
                left: auto;
                margin-left: 1rem;
            }
        }

        /* Professional Dashboard Card Styles */
        .dashboard-card {
            transition: all 0.3s ease;
            border-radius: 12px;
            overflow: hidden;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border: 1px solid rgba(0,0,0,0.05);
            height: 120px;
            min-height: 120px;
        }

        /* Custom grid for 8 cards per row */
        .col-lg-1-5 {
            flex: 0 0 12.5%;
            max-width: 12.5%;
        }

        /* Responsive breakpoints for 8 cards per row */
        @media (max-width: 1200px) {
            .col-lg-1-5 {
                flex: 0 0 16.666667%;
                max-width: 16.666667%;
            }
        }

        @media (max-width: 992px) {
            .col-lg-1-5 {
                flex: 0 0 25%;
                max-width: 25%;
            }
        }

        @media (max-width: 768px) {
            .col-lg-1-5 {
                flex: 0 0 33.333333%;
                max-width: 33.333333%;
            }
        }

        @media (max-width: 576px) {
            .col-lg-1-5 {
                flex: 0 0 50%;
                max-width: 50%;
            }
        }

        .dashboard-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1) !important;
            border-color: rgba(0,0,0,0.1);
        }

        .hover-lift {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .hover-lift:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15) !important;
        }

        .icon-wrapper {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .dashboard-card:hover .icon-wrapper {
            transform: scale(1.1);
        }

        .dashboard-card .card-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .dashboard-card .card-text {
            color: #6c757d;
            font-size: 0.875rem;
            line-height: 1.4;
        }

        .dashboard-card a {
            text-decoration: none;
            color: inherit;
        }

        .dashboard-card a:hover {
            text-decoration: none;
            color: inherit;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .dashboard-card {
                margin-bottom: 0.5rem;
            }
            
            .icon-wrapper {
                width: 40px;
                height: 40px;
            }
            
            .dashboard-card .card-title {
                font-size: 0.8rem;
            }

            .dashboard-card .card-text {
                font-size: 0.7rem;
            }
        }
    </style>
    {% block extra_css %}{% endblock %}
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #1e3a8a;">
  <div class="container-fluid">
    <a class="navbar-brand" href="{% url 'dashboard:dashboard' %}">logisEdge</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-gear me-1"></i>Master
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="{% url 'customer:customer_list' %}"><i class="bi bi-person me-2"></i>Customer</a></li>
            <li><a class="dropdown-item" href="{% url 'items:item_list' %}"><i class="bi bi-box me-2"></i>Items</a></li>
            <li><a class="dropdown-item" href="{% url 'port:port_list' %}"><i class="bi bi-geo-alt me-2"></i>Port</a></li>
            <li><a class="dropdown-item" href="{% url 'service:service_list' %}"><i class="bi bi-tools me-2"></i>Service</a></li>
            <li><a class="dropdown-item" href="{% url 'charges:charge_list' %}"><i class="bi bi-currency-dollar me-2"></i>Charges</a></li>

            <li><a class="dropdown-item" href="{% url 'salesman:salesman_list' %}"><i class="bi bi-person-badge me-2"></i>Salesman</a></li>
            <li><a class="dropdown-item" href="{% url 'facility:facility_list' %}"><i class="bi bi-building me-2"></i>Facility</a></li>
            <li><a class="dropdown-item" href="{% url 'payment_source:payment_source_list' %}"><i class="bi bi-credit-card me-2"></i>Payment Sources</a></li>
            <li><hr class="dropdown-divider"></li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" id="chart-of-accounts-link">
                <i class="bi bi-diagram-3 me-2"></i>Chart of Account
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="{% url 'chart_of_accounts:dashboard' %}"><i class="bi bi-speedometer2 me-2"></i>Dashboard</a></li>
                <li><a class="dropdown-item" href="{% url 'chart_of_accounts:account_list' %}"><i class="bi bi-list-ul me-2"></i>All Accounts</a></li>
                <li><a class="dropdown-item" href="{% url 'chart_of_accounts:parent_accounts_list' %}"><i class="bi bi-folder me-2"></i>Parent Accounts</a></li>
                <li><a class="dropdown-item" href="{% url 'chart_of_accounts:account_type_list' %}"><i class="bi bi-tags me-2"></i>Account Types</a></li>
                <li><a class="dropdown-item" href="{% url 'chart_of_accounts:account_hierarchy' %}"><i class="bi bi-diagram-2 me-2"></i>Account Hierarchy</a></li>
                <li><a class="dropdown-item" href="{% url 'chart_of_accounts:account_template_list' %}"><i class="bi bi-file-earmark-text me-2"></i>Account Templates</a></li>
              </ul>
            </li>
            <li><a class="dropdown-item" href="{% url 'ledger:ledger_list' %}"><i class="bi bi-journal-text me-2"></i>Ledger</a></li>
          </ul>
        </li>
        
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            ðŸ“¦ Warehouse
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="{% url 'quotation:quotation_list' %}"><i class="bi bi-file-earmark-text me-2"></i>Quotation</a></li>
            <li><hr class="dropdown-divider"></li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-arrow-down-circle me-2"></i>Inbound
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="{% url 'job:job_list' %}"><i class="bi bi-plus-circle me-2"></i>New Job</a></li>
                <li><a class="dropdown-item" href="{% url 'grn:grn_list' %}"><i class="bi bi-receipt me-2"></i>GRN</a></li>
                <li><a class="dropdown-item" href="{% url 'putaways:putaway_list' %}"><i class="bi bi-box-arrow-in-down me-2"></i>Putaways</a></li>
                <li><a class="dropdown-item" href="{% url 'documentation:documentation_list' %}"><i class="bi bi-file-earmark-text me-2"></i>Documentation</a></li>
                <li><a class="dropdown-item" href="{% url 'crossstuffing:crossstuffing_list' %}"><i class="bi bi-arrow-left-right me-2"></i>Cross Stuffing</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-arrow-up-circle me-2"></i>Outbound
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="{% url 'delivery_order:delivery_order_list' %}"><i class="bi bi-truck me-2"></i>Delivery Order</a></li>
                <li><a class="dropdown-item" href="/outbound/picklist/"><i class="bi bi-list-check me-2"></i>Picklist</a></li>
                <li><a class="dropdown-item" href="{% url 'dispatchnote:dispatch_list' %}"><i class="bi bi-file-earmark-arrow-up me-2"></i>Dispatch Note</a></li>
              </ul>
            </li>
                                    <li><a class="dropdown-item" href="{% url 'stock_transfer:stock_transfer_list' %}"><i class="bi bi-arrow-left-right me-2"></i>Stock Transfer</a></li>
                            <li><a class="dropdown-item" href="{% url 'location_transfer:location_transfer_dashboard' %}"><i class="bi bi-geo-alt me-2"></i>Location Transfer</a></li>
                <li><a class="dropdown-item" href="{% url 'storage_invoice:storage_invoice_list' %}"><i class="bi bi-receipt me-2"></i>Storage Invoice</a></li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-calculator me-2"></i>Invoicing
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="{% url 'invoice:invoice_list' %}"><i class="bi bi-receipt me-2"></i>Invoice</a></li>
                <li><a class="dropdown-item" href="/invoicing/pro-forma-invoice/"><i class="bi bi-file-earmark-text me-2"></i>Pro-Forma Invoice</a></li>
              </ul>
            </li>
            <li><a class="dropdown-item" href="{% url 'lgp:lgp_list' %}"><i class="bi bi-box-seam me-2"></i>LGP</a></li>
          </ul>
        </li>
        
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            ðŸš¢ Freight
          </a>
          <ul class="dropdown-menu">
                                                                                    <li><a class="dropdown-item" href="{% url 'freight_quotation:quotation_list' %}"><i class="bi bi-file-earmark-text me-2"></i>Freight Quotation</a></li>
                        <li><a class="dropdown-item" href="{% url 'freight_booking:booking_list' %}"><i class="bi bi-calendar-check me-2"></i>Freight Booking</a></li>
                        <li><a class="dropdown-item" href="{% url 'container_management:dashboard' %}"><i class="bi bi-container me-2"></i>Container Management</a></li>
                        <li><a class="dropdown-item" href="{% url 'bill_of_lading:dashboard' %}"><i class="bi bi-file-earmark me-2"></i>Bill of Lading</a></li>
            <li><a class="dropdown-item" href="{% url 'shipment_tracking:dashboard' %}"><i class="bi bi-truck me-2"></i>Tracking & Status Update</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-receipt me-2"></i>Freight Invoice</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-receipt-cutoff me-2"></i>Vendor Freight Bills</a></li>
          </ul>
        </li>
        
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-calculator me-1"></i>Accounting
          </a>
          <ul class="dropdown-menu">
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-arrow-down-circle me-2"></i>Accounts Receivable
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="{% url 'credit_note:list' %}"><i class="bi bi-receipt-cutoff me-2"></i>Credit Notes</a></li>
                <li><a class="dropdown-item" href="{% url 'customer_payments:payment_list' %}"><i class="bi bi-cash me-2"></i>Customer Payments</a></li>
                <li><a class="dropdown-item" href="{% url 'dunning_letters:list' %}"><i class="bi bi-envelope-exclamation me-2"></i>Dunning Letters</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-arrow-up-circle me-2"></i>Accounts Payable
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="{% url 'supplier_bills:list' %}"><i class="bi bi-receipt me-2"></i>Supplier Bills</a></li>
                <li><a class="dropdown-item" href="{% url 'debit_note:list' %}"><i class="bi bi-receipt-cutoff me-2"></i>Debit Notes</a></li>
                <li><a class="dropdown-item" href="{% url 'supplier_payments:supplier_payment_list' %}"><i class="bi bi-cash-stack me-2"></i>Supplier Payments</a></li>
                <li><a class="dropdown-item" href="/accounting/payment-scheduling/"><i class="bi bi-calendar-check me-2"></i>Payment Scheduling</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-journal-text me-2"></i>Journals & Vouchers
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/accounting/general-journal/"><i class="bi bi-journal me-2"></i>General Journal</a></li>
                <li><a class="dropdown-item" href="/accounting/payment-voucher/"><i class="bi bi-cash me-2"></i>Payment Voucher</a></li>
                <li><a class="dropdown-item" href="/accounting/receipt-voucher/"><i class="bi bi-receipt me-2"></i>Receipt Voucher</a></li>
                <li><a class="dropdown-item" href="/accounting/contra-entry/"><i class="bi bi-arrow-left-right me-2"></i>Contra Entry</a></li>
                <li><a class="dropdown-item" href="/accounting/adjustment-entries/"><i class="bi bi-gear me-2"></i>Adjustment Entries</a></li>
                <li><a class="dropdown-item" href="/accounting/opening-balances/"><i class="bi bi-currency-exchange me-2"></i>Opening Balances</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-arrow-repeat me-2"></i>Transactions
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/accounting/all-transactions/"><i class="bi bi-list-ul me-2"></i>All Transactions View</a></li>
                <li><a class="dropdown-item" href="/accounting/cash-transactions/"><i class="bi bi-bank me-2"></i>Cash Transactions</a></li>
                <li><a class="dropdown-item" href="/accounting/petty-cash/"><i class="bi bi-wallet2 me-2"></i>Petty Cash</a></li>
                <li><a class="dropdown-item" href="/accounting/manual-journal-entry/"><i class="bi bi-pencil-square me-2"></i>Manual Journal Entry</a></li>
                <li><a class="dropdown-item" href="/accounting/recurring-entries/"><i class="bi bi-arrow-clockwise me-2"></i>Recurring Entries</a></li>
                <li><a class="dropdown-item" href="/accounting/billing-payable-tracking/"><i class="bi bi-clipboard-check me-2"></i>Billing/Payable Tracking</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-bank me-2"></i>Banking
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/accounting/bank-accounts/"><i class="bi bi-credit-card me-2"></i>Bank Accounts</a></li>
                <li><a class="dropdown-item" href="/accounting/bank-reconciliation/"><i class="bi bi-check2-square me-2"></i>Bank Reconciliation</a></li>
                <li><a class="dropdown-item" href="/accounting/cheque-register/"><i class="bi bi-receipt me-2"></i>Cheque Register</a></li>
                <li><a class="dropdown-item" href="/accounting/deposit-slips/"><i class="bi bi-cash-stack me-2"></i>Deposit Slips</a></li>
                <li><a class="dropdown-item" href="/accounting/bank-transfers/"><i class="bi bi-arrow-left-right me-2"></i>Bank Transfers</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-percent me-2"></i>Taxation
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="{% url 'tax_settings:dashboard' %}"><i class="bi bi-gear me-2"></i>Tax Settings (VAT)</a></li>
                <li><a class="dropdown-item" href="/accounting/tax-invoices/"><i class="bi bi-receipt me-2"></i>Tax Invoices</a></li>
                <li><a class="dropdown-item" href="/accounting/tax-summary/"><i class="bi bi-graph-up me-2"></i>Input/Output Tax Summary</a></li>
                <li><a class="dropdown-item" href="/accounting/tax-filing-report/"><i class="bi bi-file-earmark-text me-2"></i>Tax Filing Report</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-building me-2"></i>Assets Management
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/accounting/asset-register/"><i class="bi bi-list-ul me-2"></i>Asset Register</a></li>
                <li><a class="dropdown-item" href="/accounting/dispose-asset/"><i class="bi bi-trash me-2"></i>Dispose Asset</a></li>
                <li><a class="dropdown-item" href="{% url 'depreciation_schedule:dashboard' %}"><i class="bi bi-calendar-range me-2"></i>Depreciation Schedule</a></li>
                <li><a class="dropdown-item" href="{% url 'asset_movement_log:dashboard' %}"><i class="bi bi-arrow-left-right me-2"></i>Asset Movement Log</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-diagram-3 me-2"></i>Cost Centers
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/accounting/define-cost-centers/"><i class="bi bi-gear me-2"></i>Define Cost Centers</a></li>
                <li><a class="dropdown-item" href="/accounting/assign-transactions/"><i class="bi bi-link me-2"></i>Assign Transactions</a></li>
                <li><a class="dropdown-item" href="/accounting/cost-center-reports/"><i class="bi bi-graph-up me-2"></i>Cost Center Reports</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-graph-up me-2"></i>Budgets & Forecasting
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/accounting/budget-planning/"><i class="bi bi-calendar-plus me-2"></i>Budget Planning</a></li>
                <li><a class="dropdown-item" href="/accounting/budget-vs-actual/"><i class="bi bi-bar-chart me-2"></i>Budget vs Actual Comparison</a></li>
                <li><a class="dropdown-item" href="/accounting/variance-reports/"><i class="bi bi-exclamation-triangle me-2"></i>Variance Reports</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-people me-1"></i>HR
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="{% url 'employees:dashboard' %}"><i class="bi bi-person-badge me-2"></i>Employee Management</a></li>
            <li><a class="dropdown-item" href="{% url 'attendance:dashboard' %}"><i class="bi bi-clock me-2"></i>Attendance & Time Tracking</a></li>
                                    <li><a class="dropdown-item" href="{% url 'leave_management:dashboard' %}"><i class="bi bi-calendar-check me-2"></i>Leave Management</a></li>
                        <li><a class="dropdown-item" href="{% url 'payroll:dashboard' %}"><i class="bi bi-cash-stack me-2"></i>Payroll</a></li>
            <li><a class="dropdown-item" href="{% url 'recruitment:dashboard' %}"><i class="bi bi-person-plus me-2"></i>Recruitment</a></li>
            <li><a class="dropdown-item" href="/hr/disciplinary-grievance/"><i class="bi bi-exclamation-triangle me-2"></i>Disciplinary & Grievance</a></li>
            <li><a class="dropdown-item" href="/hr/letters-documents/"><i class="bi bi-file-earmark-text me-2"></i>HR Letters & Documents</a></li>
            <li><a class="dropdown-item" href="/hr/exit-management/"><i class="bi bi-box-arrow-right me-2"></i>Exit Management</a></li>
          </ul>
        </li>
       
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-shield-check me-1"></i>Admin
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="{% url 'company:company_list' %}"><i class="bi bi-building me-2"></i>Company</a></li>
            <li><a class="dropdown-item" href="{% url 'user:user_list' %}"><i class="bi bi-people me-2"></i>User</a></li>
            <li><a class="dropdown-item" href="{% url 'user:permissions_management' %}"><i class="bi bi-shield-lock me-2"></i>Permissions Management</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-gear me-1"></i>Settings
          </a>
          <ul class="dropdown-menu">
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-calculator me-2"></i>Financial Settings
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="{% url 'fiscal_year:dashboard' %}"><i class="bi bi-calendar-range me-2"></i>Fiscal Year Settings</a></li>
                <li><a class="dropdown-item" href="{% url 'multi_currency:dashboard' %}"><i class="bi bi-currency-exchange me-2"></i>Multi-Currency Setup</a></li>
                <li><a class="dropdown-item" href="/settings/approval-workflows/"><i class="bi bi-diagram-3 me-2"></i>Approval Workflows</a></li>
                <li><a class="dropdown-item" href="/settings/roles-permissions/"><i class="bi bi-shield-check me-2"></i>Roles & Permissions</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-tools me-1"></i>Utilities
          </a>
          <ul class="dropdown-menu">
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-database me-2"></i>Data Tools
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/utilities/import-master-data/"><i class="bi bi-upload me-2"></i>Import Master Data (CSV/Excel)</a></li>
                <li><a class="dropdown-item" href="/utilities/bulk-export/"><i class="bi bi-download me-2"></i>Bulk Export (Customers, Items, Transactions)</a></li>
                <li><a class="dropdown-item" href="/utilities/data-cleaning/"><i class="bi bi-brush me-2"></i>Data Cleaning Tool</a></li>
                <li><a class="dropdown-item" href="/utilities/merge-duplicates/"><i class="bi bi-link me-2"></i>Merge Duplicates</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-cloud-arrow-up me-2"></i>Backup & Restore
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/utilities/manual-backup/"><i class="bi bi-cloud-upload me-2"></i>Manual Backup</a></li>
                <li><a class="dropdown-item" href="/utilities/backup-scheduler/"><i class="bi bi-calendar-check me-2"></i>Backup Scheduler</a></li>
                <li><a class="dropdown-item" href="/utilities/backup-scheduler/restore/"><i class="bi bi-cloud-download me-2"></i>Data Restore Option</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-journal-text me-2"></i>Logs & Reports
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/utilities/activity-logs/"><i class="bi bi-activity me-2"></i>Activity Logs / Audit Trail</a></li>
                <li><a class="dropdown-item" href="/utilities/log-history/"><i class="bi bi-person-check me-2"></i>Log History</a></li>
                <li><a class="dropdown-item" href="/utilities/system-errors/"><i class="bi bi-exclamation-triangle me-2"></i>System Errors / Debug Logs</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-envelope me-2"></i>Email & SMS Tools
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/utilities/email-configuration/"><i class="bi bi-envelope-check me-2"></i>Email Configuration Test</a></li>
                <li><a class="dropdown-item" href="/utilities/sms-gateway/"><i class="bi bi-phone me-2"></i>SMS Gateway Tester</a></li>
                <li><a class="dropdown-item" href="/utilities/bulk-email-sender/"><i class="bi bi-envelope-paper me-2"></i>Bulk Email Sender</a></li>
                <li><a class="dropdown-item" href="/utilities/notification-templates/"><i class="bi bi-file-earmark-text me-2"></i>Notification Templates</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-file-earmark-text me-2"></i>Document Tools
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/utilities/print-queue/"><i class="bi bi-printer me-2"></i>Print Queue Management</a></li>
                <li><a class="dropdown-item" href="/utilities/pdf-preview/"><i class="bi bi-eye me-2"></i>PDF Preview Tool</a></li>
                <li><a class="dropdown-item" href="/utilities/signature-stamp/"><i class="bi bi-stamp me-2"></i>Signature / Stamp Uploader</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-clock me-2"></i>Scheduler & Automation
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/utilities/auto-task-scheduler/"><i class="bi bi-calendar-plus me-2"></i>Auto Task Scheduler</a></li>
                <li><a class="dropdown-item" href="/utilities/cron-job-viewer/"><i class="bi bi-list-task me-2"></i>Cron Job Viewer</a></li>
                <li><a class="dropdown-item" href="/utilities/background-job-monitor/"><i class="bi bi-display me-2"></i>Background Job Monitor</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-code-slash me-2"></i>Developer / Admin Tools
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/utilities/custom-field-builder/"><i class="bi bi-puzzle me-2"></i>Custom Field Builder</a></li>
                <li><a class="dropdown-item" href="/utilities/api-tokens/"><i class="bi bi-key me-2"></i>API Tokens / Keys</a></li>
                <li><a class="dropdown-item" href="/utilities/webhooks-manager/"><i class="bi bi-link-45deg me-2"></i>Webhooks Manager</a></li>
                <li><a class="dropdown-item" href="/utilities/system-health-check/"><i class="bi bi-heart-pulse me-2"></i>System Health Check</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-graph-up me-1"></i>Reports
          </a>
          <ul class="dropdown-menu">
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-list-ul me-2"></i>Master Reports
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/reports/item-master-list/"><i class="bi bi-box me-2"></i>Item Master List</a></li>
                <li><a class="dropdown-item" href="/reports/item-category-summary/"><i class="bi bi-diagram-3 me-2"></i>Item Category Summary</a></li>
                <li><a class="dropdown-item" href="/reports/customer-supplier-master/"><i class="bi bi-people me-2"></i>Customer & Supplier Master Report</a></li>
                <li><a class="dropdown-item" href="/reports/units-of-measure/"><i class="bi bi-rulers me-2"></i>Units of Measure Report</a></li>
                <li><a class="dropdown-item" href="/reports/tax-rules-summary/"><i class="bi bi-percent me-2"></i>Tax Rules Summary</a></li>
                <li><a class="dropdown-item" href="/reports/master-data-audit/"><i class="bi bi-journal-check me-2"></i>Master Data Audit Log</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-warehouse me-2"></i>Warehouse Reports
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/reports/stock-ledger/"><i class="bi bi-journal-text me-2"></i>Stock Ledger Report</a></li>
                <li><a class="dropdown-item" href="/reports/stock-movement/"><i class="bi bi-arrow-left-right me-2"></i>Stock Movement Report (In/Out/Transfers)</a></li>
                <li><a class="dropdown-item" href="/reports/reorder-level-breach/"><i class="bi bi-exclamation-triangle me-2"></i>Reorder Level Breach Report</a></li>
                <li><a class="dropdown-item" href="/reports/bin-location-stock/"><i class="bi bi-geo-alt me-2"></i>Bin/Location-wise Stock</a></li>
                <li><a class="dropdown-item" href="/reports/inventory-aging/"><i class="bi bi-clock-history me-2"></i>Inventory Aging Report</a></li>
                <li><a class="dropdown-item" href="/reports/item-expiry/"><i class="bi bi-calendar-x me-2"></i>Item Expiry Report (if applicable)</a></li>
                <li><a class="dropdown-item" href="/reports/stock-valuation/"><i class="bi bi-calculator me-2"></i>Stock Valuation Report (FIFO/LIFO)</a></li>
                <li><a class="dropdown-item" href="/reports/customs-boe-stock/"><i class="bi bi-file-earmark-check me-2"></i>Customs BOE Stock</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-truck me-2"></i>Freight Reports
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/reports/freight-cost-analysis/"><i class="bi bi-graph-up me-2"></i>Freight Cost Analysis (Per Job / Shipment)</a></li>
                <li><a class="dropdown-item" href="/reports/container-movement/"><i class="bi bi-box-seam me-2"></i>Container Movement Report</a></li>
                <li><a class="dropdown-item" href="/reports/delivery-order-summary/"><i class="bi bi-clipboard-data me-2"></i>Delivery Order Summary</a></li>
                <li><a class="dropdown-item" href="/reports/driver-vehicle-utilization/"><i class="bi bi-person-badge me-2"></i>Driver/Vehicle Utilization</a></li>
                <li><a class="dropdown-item" href="/reports/route-performance/"><i class="bi bi-map me-2"></i>Route Performance Report</a></li>
                <li><a class="dropdown-item" href="/reports/freight-invoice-summary/"><i class="bi bi-receipt me-2"></i>Freight Invoice Summary</a></li>
                <li><a class="dropdown-item" href="/reports/customs-tariff-charge/"><i class="bi bi-file-earmark-text me-2"></i>Customs / Tariff Charge Report</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-calculator me-2"></i>Accounting Reports
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/reports/trial-balance-report/"><i class="bi bi-scale me-2"></i>Trial Balance</a></li>                       
                <li><a class="dropdown-item" href="/reports/partner-ledger/"><i class="bi bi-people me-2"></i>Partner Ledger</a></li>
                <li><a class="dropdown-item" href="/reports/vendor-ledger/"><i class="bi bi-truck me-2"></i>Vendor Ledger Report</a></li>
                <li><a class="dropdown-item" href="/reports/general-ledger/"><i class="bi bi-journal-text me-2"></i>General Ledger</a></li>
                <li><a class="dropdown-item" href="/reports/source-payment-ledger/"><i class="bi bi-credit-card me-2"></i>Source Payment Ledger</a></li>
                <li><a class="dropdown-item" href="{% url 'profit_loss_statement:profit_loss_report' %}"><i class="bi bi-graph-up-arrow me-2"></i>Profit & Loss Statement</a></li>
                <li><a class="dropdown-item" href="{% url 'balance_sheet:balance_sheet_report' %}"><i class="bi bi-file-earmark-spreadsheet me-2"></i>Balance Sheet</a></li>
                <li><a class="dropdown-item" href="/reports/cash-flow/"><i class="bi bi-cash-stack me-2"></i>Cash Flow Statement</a></li>
                <li><a class="dropdown-item" href="/reports/accounts-receivable-aging/"><i class="bi bi-clock me-2"></i>Accounts Receivable Aging</a></li>
                <li><a class="dropdown-item" href="/reports/accounts-payable-aging/"><i class="bi bi-clock-history me-2"></i>Accounts Payable Aging</a></li>
                <li><a class="dropdown-item" href="/reports/tax-summary/"><i class="bi bi-percent me-2"></i>Tax Summary (VAT/GST)</a></li>
                <li><a class="dropdown-item" href="/reports/journal-voucher-register/"><i class="bi bi-journal me-2"></i>Journal Voucher Register</a></li>
                <li><a class="dropdown-item" href="/reports/payment-receipt-report/"><i class="bi bi-arrow-left-right me-2"></i>Payment & Receipt Report</a></li>
                <li><a class="dropdown-item" href="/reports/budget-vs-actual/"><i class="bi bi-bar-chart me-2"></i>Budget vs Actual Report</a></li>
                <li><a class="dropdown-item" href="/reports/bank-reconciliation-report/"><i class="bi bi-bank me-2"></i>Bank Reconciliation Report</a></li>
              </ul>
            </li>
            <li class="dropend">
              <a class="dropdown-item dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-people me-2"></i>HR Reports
              </a>
              <ul class="dropdown-menu dropdown-submenu">
                <li><a class="dropdown-item" href="/reports/employee-list/"><i class="bi bi-person-lines-fill me-2"></i>Employee List Report</a></li>
                <li><a class="dropdown-item" href="/reports/attendance-register/"><i class="bi bi-calendar-check me-2"></i>Attendance Register</a></li>
                <li><a class="dropdown-item" href="/reports/leave-balance-summary/"><i class="bi bi-calendar-minus me-2"></i>Leave Balance Summary</a></li>
                <li><a class="dropdown-item" href="/reports/monthly-salary-report/"><i class="bi bi-cash me-2"></i>Monthly Salary Report</a></li>
                <li><a class="dropdown-item" href="/reports/payroll-register/"><i class="bi bi-journal-text me-2"></i>Payroll Register</a></li>
                <li><a class="dropdown-item" href="/reports/bonus-deductions-report/"><i class="bi bi-plus-slash-minus me-2"></i>Bonus/Deductions Report</a></li>
                <li><a class="dropdown-item" href="/reports/department-headcount/"><i class="bi bi-building me-2"></i>Department-wise Headcount</a></li>
                <li><a class="dropdown-item" href="/reports/appraisal-history/"><i class="bi bi-star me-2"></i>Appraisal History</a></li>
                <li><a class="dropdown-item" href="/reports/exit-summary-report/"><i class="bi bi-box-arrow-right me-2"></i>Exit Summary Report</a></li>
                <li><a class="dropdown-item" href="/reports/employee-turnover-analysis/"><i class="bi bi-graph-down me-2"></i>Employee Turnover Analysis</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
      <div class="navbar-nav">
        <span class="navbar-text me-3">
          <i class="bi bi-person-circle"></i> {{ user.username }}
        </span>
        <form method="post" action="{% url 'logout' %}" style="display: inline;">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-outline-light btn-sm">
                                    <i class="bi bi-box-arrow-right"></i> Logout
                                </button>
                            </form>
      </div>
    </div>
  </div>
</nav>

{% block content %}
<div class="container-fluid mt-4">
    <div class="row">
        <div class="col-12">
            <h2 class="mb-4">Quick Access Dashboard</h2>
        </div>
    </div>
    
    <div class="row g-2">
        <!-- Quotations -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'quotation:quotation_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-primary bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-file-earmark-text text-primary" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Quotations</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Manage quotes</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Job -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'job:job_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-success bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-plus-circle text-success" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Job</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Create jobs</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- GRN -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'grn:grn_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-info bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-receipt text-info" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">GRN</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Goods received</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Putaways -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'putaways:putaway_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-4">
                        <div class="icon-wrapper bg-warning bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-box-arrow-in-down text-warning" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Putaways</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Storage ops</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Documentation -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'documentation:documentation_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-secondary bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-file-earmark-text text-secondary" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Documentation</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Documents</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Cross Stuffing -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'crossstuffing:crossstuffing_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-danger bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-arrow-left-right text-danger" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Cross Stuffing</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Container ops</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Delivery Order -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'delivery_order:delivery_order_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-primary bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-truck text-primary" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Delivery Order</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Outbound</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Picklist -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="/outbound/picklist/" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-success bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-list-check text-success" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Picklist</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Picking</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Dispatch -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'dispatchnote:dispatch_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-info bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-file-earmark-arrow-up text-info" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Dispatch</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Dispatch notes</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Invoice -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'invoice:invoice_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-warning bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-receipt text-warning" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Invoice</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Billing</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Vendor Payment -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'supplier_payments:supplier_payment_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-secondary bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-cash-stack text-secondary" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Vendor Payment</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Vendor pay</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Supplier Payment -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'supplier_payments:supplier_payment_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-danger bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-cash-stack text-danger" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Supplier Payment</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Supplier pay</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Customer Outstanding -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'customer_payments:payment_list' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-primary bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-clock-history text-primary" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Customer Outstanding</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Outstanding</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Chart of Accounts -->
        <div class="col-lg-1-5 col-md-2 col-sm-3 col-4">
            <a href="{% url 'chart_of_accounts:dashboard' %}" class="text-decoration-none">
                <div class="card dashboard-card h-100 border-0 shadow-lg hover-lift">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-2">
                        <div class="icon-wrapper bg-info bg-opacity-10 rounded-circle p-2 mb-2">
                            <i class="bi bi-diagram-3 text-info" style="font-size: 1.5rem;"></i>
                        </div>
                        <h6 class="card-title fw-bold text-dark mb-1" style="font-size: 0.8rem;">Chart of Accounts</h6>
                        <p class="card-text text-muted small mb-0" style="font-size: 0.7rem;">Accounting</p>
                    </div>
                </div>
            </a>
        </div>
    </div>

    <!-- Warehouse Location Log and Daily Activity Log -->
    <div class="row mt-5">
        <!-- Warehouse Location Log - Left Side (3 columns) -->
        <div class="col-md-3">
            <div class="card border-0 shadow-lg h-100">
                <div class="card-header bg-success text-white">
                    <h5 class="card-title mb-0">
                        <i class="bi bi-geo-alt me-2"></i>Warehouse Location Log
                    </h5>
                </div>
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="table-light">
                                <tr>
                                    <th class="text-center">Total Racks</th>
                                    <th class="text-center">Occupied</th>
                                    <th class="text-center">Free</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center">
                                        <div class="d-flex align-items-center justify-content-center">
                                            <i class="bi bi-boxes text-primary me-2"></i>
                                            <span class="fw-bold text-primary">{{ warehouse_stats.total_racks }}</span>
                                        </div>
                                    </td>
                                    <td class="text-center">
                                        <div class="d-flex align-items-center justify-content-center">
                                            <i class="bi bi-box-fill text-warning me-2"></i>
                                            <span class="fw-bold text-warning">{{ warehouse_stats.occupied }}</span>
                                        </div>
                                    </td>
                                    <td class="text-center">
                                        <div class="d-flex align-items-center justify-content-center">
                                            <i class="bi bi-box text-success me-2"></i>
                                            <span class="fw-bold text-success">{{ warehouse_stats.free }}</span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" class="text-center p-4">
                                        <div id="warehouse-pie-container" style="width: 220px; height: 220px; margin: 0 auto;"></div>
                                        <!-- Professional Legend -->
                                        <div class="row mt-4">
                                            <div class="col-6">
                                                <div class="d-flex align-items-center justify-content-center p-2 rounded" 
                                                     style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
                                                    <div class="d-flex align-items-center">
                                                        <div class="rounded-circle me-2 shadow-sm" 
                                                             style="width: 14px; height: 14px; background: #198754;"></div>
                                                        <div class="text-start">
                                                            <div class="fw-bold text-success" style="font-size: 0.9rem;">{{ warehouse_stats.free }}</div>
                                                            <small class="text-muted" style="font-size: 0.75rem;">Free</small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="d-flex align-items-center justify-content-center p-2 rounded" 
                                                     style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
                                                    <div class="d-flex align-items-center">
                                                        <div class="rounded-circle me-2 shadow-sm" 
                                                             style="width: 14px; height: 14px; background: #0d6efd;"></div>
                                                        <div class="text-start">
                                                            <div class="fw-bold text-primary" style="font-size: 0.9rem;">{{ warehouse_stats.occupied }}</div>
                                                            <small class="text-muted" style="font-size: 0.75rem;">Occupied</small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Daily Activity Log - Right Side (9 columns) -->
        <div class="col-md-9">
            <div class="card border-0 shadow-lg">
                <div class="card-header bg-primary text-white">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h5 class="card-title mb-0">
                                <i class="bi bi-activity me-2"></i>Daily Activity Log
                            </h5>
                        </div>
                        <div class="col-md-6 text-end">
                            <div class="d-flex align-items-center justify-content-end">
                                <label for="activityDate" class="form-label text-white me-2 mb-0">
                                    <i class="bi bi-calendar3 me-1"></i>Select Date:
                                </label>
                                <input type="date" class="form-control form-control-sm" id="activityDate" 
                                       style="width: 150px; font-size: 0.875rem;" 
                                       value="{{ selected_date|date:'Y-m-d' }}"
                                       onchange="filterActivitiesByDate(this.value)">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="table-light">
                                <tr>
                                    <th class="text-center" style="width: 60px;">Sr</th>
                                    <th style="width: 120px;">Date</th>
                                    <th style="width: 100px;">Type</th>
                                    <th>User Log</th>
                                    <th style="width: 100px;">User</th>
                                    <th style="width: 100px;">Time</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% if activities %}
                                    {% for activity in activities %}
                                    <tr>
                                        <td class="text-center fw-bold">{{ forloop.counter }}</td>
                                        <td>{{ activity.date|date:"Y-m-d" }}</td>
                                        <td><span class="badge {{ activity.badge_class }}">{{ activity.type }}</span></td>
                                        <td>{{ activity.description }}</td>
                                        <td><span class="badge bg-dark text-white">{{ activity.user }}</span></td>
                                        <td>{{ activity.time|time:"g:i A" }}</td>
                                    </tr>
                                    {% endfor %}
                                {% else %}
                                    <tr>
                                        <td colspan="6" class="text-center text-muted py-4">
                                            <i class="bi bi-inbox display-6"></i>
                                            <p class="mt-2 mb-0">No activities found for {{ selected_date|date:"F d, Y" }}</p>
                                        </td>
                                    </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="card-footer bg-light">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <small class="text-muted">
                                <i class="bi bi-info-circle me-1"></i>
                                Showing {{ total_activities }} activities for {{ selected_date|date:"F d, Y" }}
                            </small>
                        </div>
                        <div class="col-md-6 text-end">
                            <a href="{% url 'dashboard:all_activities' %}" class="btn btn-outline-primary btn-sm">
                                <i class="bi bi-eye me-1"></i>View All Activities
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<script>
// Handle dropdown submenu functionality
document.addEventListener('DOMContentLoaded', function() {
    // Handle submenu positioning
    const dropendItems = document.querySelectorAll('.dropend');
    
    dropendItems.forEach(function(item) {
        const submenu = item.querySelector('.dropdown-submenu');
        
        // Show submenu on hover
        item.addEventListener('mouseenter', function() {
            submenu.style.display = 'block';
        });
        
        item.addEventListener('mouseleave', function() {
            submenu.style.display = 'none';
        });
        
        // Handle click events for mobile
        item.addEventListener('click', function(e) {
            if (window.innerWidth <= 768) {
                e.preventDefault();
                submenu.style.display = submenu.style.display === 'block' ? 'none' : 'block';
            }
        });
    });
    
    // Set current date as default for activity date picker only if no date is provided from server
    const activityDateInput = document.getElementById('activityDate');
    // Only set today's date if the input is completely empty (no value from Django template)
    if (activityDateInput && activityDateInput.value === '') {
        const today = new Date().toISOString().split('T')[0];
        activityDateInput.value = today;
    }
});

// Function to filter activities by date
function filterActivitiesByDate(selectedDate) {
    // Redirect to the dashboard with the selected date
    window.location.href = `/accounts/dashboard/?date=${selectedDate}`;
}

function describeArc(cx, cy, r, startAngle, endAngle) {
    const start = polarToCartesian(cx, cy, r, endAngle);
    const end = polarToCartesian(cx, cy, r, startAngle);
    const largeArcFlag = endAngle - startAngle <= 180 ? "0" : "1";
    return [
        "M", cx, cy,
        "L", start.x, start.y,
        "A", r, r, 0, largeArcFlag, 0, end.x, end.y,
        "Z"
    ].join(" ");
}
function polarToCartesian(cx, cy, r, angleInDegrees) {
    const angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;
    return {
        x: cx + (r * Math.cos(angleInRadians)),
        y: cy + (r * Math.sin(angleInRadians))
    };
}
function drawWarehousePieChart(containerId, free, occupied) {
    const container = document.getElementById(containerId);
    if (!container) {
        console.log('Warehouse pie chart container not found:', containerId);
        return;
    }
    
    const total = free + occupied;
    const freePct = total ? (free/total)*100 : 0;
    const occupiedPct = total ? (occupied/total)*100 : 0;
    const freeAngle = (freePct/100)*360;
    const occupiedAngle = (occupiedPct/100)*360;

    // Pie chart parameters
    const cx = 110, cy = 110, r = 100;
    const svgW = 220, svgH = 220;

    // Arcs
    const freeArc = describeArc(cx, cy, r, 0, freeAngle);
    const occupiedArc = describeArc(cx, cy, r, freeAngle, 360);

    // Label positions (at the middle angle of each segment)
    const freeLabelAngle = freeAngle/2;
    const occupiedLabelAngle = freeAngle + occupiedAngle/2;
    const labelR = r * 0.7;
    const freeLabel = polarToCartesian(cx, cy, labelR, freeLabelAngle);
    const occupiedLabel = polarToCartesian(cx, cy, labelR, occupiedLabelAngle);

    // SVG
    const svg = `
    <svg width="${svgW}" height="${svgH}" viewBox="0 0 ${svgW} ${svgH}">
        <path d="${freeArc}" fill="#198754"></path>
        <path d="${occupiedArc}" fill="#0d6efd"></path>
        <text x="${freeLabel.x}" y="${freeLabel.y-8}" fill="#198754" font-size="1.1em" font-weight="bold" text-anchor="middle">Free</text>
        <text x="${freeLabel.x}" y="${freeLabel.y+10}" fill="#198754" font-size="0.95em" text-anchor="middle">${Math.round(freePct)}%</text>
        <text x="${occupiedLabel.x}" y="${occupiedLabel.y-8}" fill="#0d6efd" font-size="1.1em" font-weight="bold" text-anchor="middle">Occupied</text>
        <text x="${occupiedLabel.x}" y="${occupiedLabel.y+10}" fill="#0d6efd" font-size="0.95em" text-anchor="middle">${Math.round(occupiedPct)}%</text>
    </svg>
    `;
    container.innerHTML = svg;
}

// Only draw chart if container exists
const warehouseContainer = document.getElementById('warehouse-pie-container');
if (warehouseContainer) {
    drawWarehousePieChart('warehouse-pie-container', 
        parseInt('{{ warehouse_stats.free|default:0 }}'), 
        parseInt('{{ warehouse_stats.occupied|default:0 }}')
    );
}
</script>
{% block extra_js %}{% endblock %}
</body>
</html>