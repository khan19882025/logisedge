{% extends 'data_cleaning_tool/base.html' %}
{% load static %}

{% block title %}Quick Clean - Data Cleaning Tool{% endblock %}

{% block content %}
<div class="row">
    <!-- Page Header -->
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h2">
                <i class="fas fa-bolt text-warning me-2"></i>
                Quick Data Clean
            </h1>
            <a href="{% url 'data_cleaning_tool:dashboard' %}" class="btn btn-secondary">
                <i class="fas fa-arrow-left me-1"></i>Back to Dashboard
            </a>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-8">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-cogs me-2"></i>Quick Clean Configuration
                </h5>
            </div>
            <div class="card-body">
                <form method="post" id="quickCleanForm">
                    {% csrf_token %}
                    
                    <!-- Master Data Cleaning Options -->
                    <div class="mb-4">
                        <h6 class="text-primary mb-3">
                            <i class="fas fa-database me-2"></i>Master Data Cleaning
                        </h6>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_customers }}
                                    <label class="form-check-label" for="{{ form.clean_customers.id_for_label }}">
                                        <i class="fas fa-users me-1"></i>Clean Customers
                                    </label>
                                </div>
                                <small class="text-muted">Remove duplicates, standardize formats, validate data</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_vendors }}
                                    <label class="form-check-label" for="{{ form.clean_vendors.id_for_label }}">
                                        <i class="fas fa-building me-1"></i>Clean Vendors
                                    </label>
                                </div>
                                <small class="text-muted">Standardize vendor information and contact details</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_items }}
                                    <label class="form-check-label" for="{{ form.clean_items.id_for_label }}">
                                        <i class="fas fa-box me-1"></i>Clean Items
                                    </label>
                                </div>
                                <small class="text-muted">Standardize item codes, descriptions, and categories</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_chart_of_accounts }}
                                    <label class="form-check-label" for="{{ form.clean_chart_of_accounts.id_for_label }}">
                                        <i class="fas fa-diagram-3 me-1"></i>Clean Chart of Accounts
                                    </label>
                                </div>
                                <small class="text-muted">Validate account structures and hierarchies</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_locations }}
                                    <label class="form-check-label" for="{{ form.clean_locations.id_for_label }}">
                                        <i class="fas fa-map-marker-alt me-1"></i>Clean Locations
                                    </label>
                                </div>
                                <small class="text-muted">Standardize location codes and descriptions</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Transactional Data Cleaning Options -->
                    <div class="mb-4">
                        <h6 class="text-success mb-3">
                            <i class="fas fa-exchange-alt me-2"></i>Transactional Data Cleaning
                        </h6>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_sales }}
                                    <label class="form-check-label" for="{{ form.clean_sales.id_for_label }}">
                                        <i class="fas fa-chart-line me-1"></i>Clean Sales Data
                                    </label>
                                </div>
                                <small class="text-muted">Validate sales transactions and customer references</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_purchases }}
                                    <label class="form-check-label" for="{{ form.clean_purchases.id_for_label }}">
                                        <i class="fas fa-shopping-cart me-1"></i>Clean Purchase Data
                                    </label>
                                </div>
                                <small class="text-muted">Validate purchase transactions and vendor references</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_inventory_movements }}
                                    <label class="form-check-label" for="{{ form.clean_inventory_movements.id_for_label }}">
                                        <i class="fas fa-boxes me-1"></i>Clean Inventory Movements
                                    </label>
                                </div>
                                <small class="text-muted">Validate stock movements and item references</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_journal_entries }}
                                    <label class="form-check-label" for="{{ form.clean_journal_entries.id_for_label }}">
                                        <i class="fas fa-journal-whills me-1"></i>Clean Journal Entries
                                    </label>
                                </div>
                                <small class="text-muted">Validate accounting entries and account references</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Financial Data Cleaning Options -->
                    <div class="mb-4">
                        <h6 class="text-info mb-3">
                            <i class="fas fa-calculator me-2"></i>Financial Data Cleaning
                        </h6>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_chart_of_accounts_detailed }}
                                    <label class="form-check-label" for="{{ form.clean_chart_of_accounts_detailed.id_for_label }}">
                                        <i class="fas fa-sitemap me-1"></i>Detailed Chart of Accounts
                                    </label>
                                </div>
                                <small class="text-muted">Deep validation of account structures</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_journal_vouchers }}
                                    <label class="form-check-label" for="{{ form.clean_journal_vouchers.id_for_label }}">
                                        <i class="fas fa-file-invoice me-1"></i>Clean Journal Vouchers
                                    </label>
                                </div>
                                <small class="text-muted">Validate voucher references and amounts</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_ledgers }}
                                    <label class="form-check-label" for="{{ form.clean_ledgers.id_for_label }}">
                                        <i class="fas fa-book me-1"></i>Clean Ledgers
                                    </label>
                                </div>
                                <small class="text-muted">Validate ledger balances and transactions</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.clean_cost_centers }}
                                    <label class="form-check-label" for="{{ form.clean_cost_centers.id_for_label }}">
                                        <i class="fas fa-target me-1"></i>Clean Cost Centers
                                    </label>
                                </div>
                                <small class="text-muted">Validate cost center assignments</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Cleaning Actions -->
                    <div class="mb-4">
                        <h6 class="text-warning mb-3">
                            <i class="fas fa-tools me-2"></i>Cleaning Actions
                        </h6>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.auto_merge_duplicates }}
                                    <label class="form-check-label" for="{{ form.auto_merge_duplicates.id_for_label }}">
                                        <i class="fas fa-link me-1"></i>Auto-merge Duplicates
                                    </label>
                                </div>
                                <small class="text-muted">Automatically merge duplicate records</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.auto_fill_mandatory_fields }}
                                    <label class="form-check-label" for="{{ form.auto_fill_mandatory_fields.id_for_label }}">
                                        <i class="fas fa-edit me-1"></i>Auto-fill Mandatory Fields
                                    </label>
                                </div>
                                <small class="text-muted">Fill required fields with default values</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.auto_standardize_formats }}
                                    <label class="form-check-label" for="{{ form.auto_standardize_formats.id_for_label }}">
                                        <i class="fas fa-magic me-1"></i>Auto-standardize Formats
                                    </label>
                                </div>
                                <small class="text-muted">Standardize phone, email, and address formats</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.auto_archive_obsolete }}
                                    <label class="form-check-label" for="{{ form.auto_archive_obsolete.id_for_label }}">
                                        <i class="fas fa-archive me-1"></i>Auto-archive Obsolete
                                    </label>
                                </div>
                                <small class="text-muted">Archive old and unused records</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Validation Options -->
                    <div class="mb-4">
                        <h6 class="text-danger mb-3">
                            <i class="fas fa-shield-alt me-2"></i>Validation Options
                        </h6>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.strict_validation }}
                                    <label class="form-check-label" for="{{ form.strict_validation.id_for_label }}">
                                        <i class="fas fa-exclamation-triangle me-1"></i>Strict Validation
                                    </label>
                                </div>
                                <small class="text-muted">Apply strict business rule validation</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.generate_detailed_reports }}
                                    <label class="form-check-label" for="{{ form.generate_detailed_reports.id_for_label }}">
                                        <i class="fas fa-chart-bar me-1"></i>Generate Detailed Reports
                                    </label>
                                </div>
                                <small class="text-muted">Create comprehensive cleaning reports</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.send_notifications }}
                                    <label class="form-check-label" for="{{ form.send_notifications.id_for_label }}">
                                        <i class="fas fa-bell me-1"></i>Send Notifications
                                    </label>
                                </div>
                                <small class="text-muted">Notify users of cleaning completion</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="d-flex justify-content-between">
                        <a href="{% url 'data_cleaning_tool:dashboard' %}" class="btn btn-secondary">
                            <i class="fas fa-times me-1"></i>Cancel
                        </a>
                        <button type="submit" class="btn btn-warning btn-lg">
                            <i class="fas fa-bolt me-1"></i>Start Quick Clean
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="col-lg-4">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-info-circle me-2"></i>Quick Clean Info
                </h5>
            </div>
            <div class="card-body">
                <p class="text-muted">
                    Quick Clean allows you to perform common data cleaning tasks without creating a full session.
                    This is perfect for routine maintenance and quick fixes.
                </p>
                
                <div class="alert alert-info">
                    <i class="fas fa-lightbulb me-2"></i>
                    <strong>Tip:</strong> Start with a few options selected to test the cleaning process.
                </div>
                
                <div class="alert alert-warning">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    <strong>Note:</strong> Some cleaning actions cannot be undone. Review results carefully.
                </div>
            </div>
        </div>
        
        <div class="card mt-3">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-clock me-2"></i>Estimated Time
                </h5>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-6">
                        <h6 class="text-primary">Small Dataset</h6>
                        <p class="small text-muted">1-5 minutes</p>
                    </div>
                    <div class="col-6">
                        <h6 class="text-warning">Large Dataset</h6>
                        <p class="small text-muted">15-30 minutes</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
